<!DOCTYPE html>
<html>
  <head>
    <title>数据字典</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />
  </head>
  <body>
    <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" style="position:fixed;left:10px;top:10px;z-index:100">
      <div class="toast-header"><img src="..." class="rounded mr-2" alt="..." /><strong id="sqlTitle" class="mr-auto"></strong><small class="text-muted"></small><button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">×</span></button></div>
      <div id="sqlData" class="toast-body"></div>
    </div>
    <div class="p-2">
      <div class="accordion" id="accordionExample">
        <div class="card" style="overflow:visible">
          <div class="card-header" id="headingOne">
            <h5 class="mb-0" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" style="cursor:pointer"><svg class="bi bi-x-octagon-fill error" width="1em" height="1em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M13.46 2.146A.5.5 0 0013.107 2H6.893a.5.5 0 00-.353.146L2.146 6.54A.5.5 0 002 6.893v6.214a.5.5 0 00.146.353l4.394 4.394a.5.5 0 00.353.146h6.214a.5.5 0 00.353-.146l4.394-4.394a.5.5 0 00.146-.353V6.893a.5.5 0 00-.146-.353L13.46 2.146zm-6.106 4.5L10 9.293l2.646-2.647a.5.5 0 01.708.708L10.707 10l2.647 2.646a.5.5 0 01-.708.708L10 10.707l-2.646 2.647a.5.5 0 01-.708-.708L9.293 10 6.646 7.354a.5.5 0 11.708-.708z" clip-rule="evenodd"></path>
              </svg>0 error,<svg class="bi bi-alert-octagon-fill" width="1em" height="1em" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M13.107 2a.5.5 0 01.353.146l4.394 4.394a.5.5 0 01.146.353v6.214a.5.5 0 01-.146.353l-4.394 4.394a.5.5 0 01-.353.146H6.893a.5.5 0 01-.353-.146L2.146 13.46A.5.5 0 012 13.107V6.893a.5.5 0 01.146-.353L6.54 2.146A.5.5 0 016.893 2h6.214zM9.002 13a1 1 0 112 0 1 1 0 01-2 0zM10 6a.905.905 0 00-.9.995l.35 3.507a.553.553 0 001.1 0l.35-3.507A.905.905 0 0010 6z" clip-rule="evenodd"></path>
              </svg>0 warning,</h5>
          </div>
          <div class="position-relative">
            <div id="collapseOne" class="collapse p-2 border border-top-0 position-absolute bg-light" aria-labelledby="headingOne" data-parent="#accordionExample" style="width:100%;z-index:99">
              <div class="alert alert-success" role="alert">好耶，没有发现问题！</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="p1">
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">审计日志表</span><span class="text-muted small">audit</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">source</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1">用户或管理员ID</td>
            </tr>
            <tr>
              <th class="p-1">source_table</th>
              <td class="p-1 small">VARCHAR(32)</td>
              <td class="p-1">用户或管理员类型</td>
            </tr>
            <tr>
              <th class="p-1">operation</th>
              <td class="p-1 small">VARCHAR(32)</td>
              <td class="p-1">操作类型</td>
            </tr>
            <tr>
              <th class="p-1">target</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1">目标ID</td>
            </tr>
            <tr>
              <th class="p-1">target_table</th>
              <td class="p-1 small">VARCHAR(32)</td>
              <td class="p-1">目标类型</td>
            </tr>
            <tr>
              <th class="p-1">prev_value</th>
              <td class="p-1 small">LONGTEXT</td>
              <td class="p-1">老值</td>
            </tr>
            <tr>
              <th class="p-1">value</th>
              <td class="p-1 small">LONGTEXT</td>
              <td class="p-1">新值</td>
            </tr>
            <tr>
              <th class="p-1">extra</th>
              <td class="p-1 small">TEXT</td>
              <td class="p-1">额外信息</td>
            </tr>
            <tr>
              <th class="p-1">ip</th>
              <td class="p-1 small">VARCHAR(45)</td>
              <td class="p-1">操作者IP</td>
            </tr>
            <tr>
              <th class="p-1">create_time</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1">操作时间</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">组织表</span><span class="text-muted small">organization</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">display_name</th>
              <td class="p-1 small">TEXT</td>
              <td class="p-1">公司名称</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">is_delete</th>
              <td class="p-1 small">TINYINT(1) UNSIGNED</td>
              <td class="p-1">是否已删除</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">组织下部门表</span><span class="text-muted small">organization_department</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">parent_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1">父级部门（顶级为0）</td>
            </tr>
            <tr>
              <th class="p-1">organization_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">display_name</th>
              <td class="p-1 small">TEXT</td>
              <td class="p-1">部门名称</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">is_delete</th>
              <td class="p-1 small">TINYINT(1) UNSIGNED</td>
              <td class="p-1">是否删除</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">部门组权限表</span><span class="text-muted small">organization_department_permission</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">organization_department_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">permission</th>
              <td class="p-1 small">CHAR(36)</td>
              <td class="p-1">权限GUID</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">权限名称缓存</span><span class="text-muted small">permissions_cache</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">guid</th>
              <td class="p-1 small">CHAR(36)</td>
              <td class="p-1">权限GUID</td>
            </tr>
            <tr>
              <th class="p-1">title</th>
              <td class="p-1 small">VARCHAR(255)</td>
              <td class="p-1">集合(组)名称</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">管理员表</span><span class="text-muted small">super_admin</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">email</th>
              <td class="p-1 small">VARCHAR(128)</td>
              <td class="p-1">登录邮箱</td>
            </tr>
            <tr>
              <th class="p-1">password</th>
              <td class="p-1 small">VARCHAR(255)</td>
              <td class="p-1">密码</td>
            </tr>
            <tr>
              <th class="p-1">display_name</th>
              <td class="p-1 small">MEDIUMTEXT</td>
              <td class="p-1">昵称</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">update_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">is_delete</th>
              <td class="p-1 small">TINYINT(1) UNSIGNED</td>
              <td class="p-1">已删除</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">一般用户表</span><span class="text-muted small">user</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">username</th>
              <td class="p-1 small">VARCHAR(64)</td>
              <td class="p-1">登录名</td>
            </tr>
            <tr>
              <th class="p-1">password</th>
              <td class="p-1 small">VARCHAR(255)</td>
              <td class="p-1">密码</td>
            </tr>
            <tr>
              <th class="p-1">organization_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1">所属组织</td>
            </tr>
            <tr>
              <th class="p-1">display_name</th>
              <td class="p-1 small">TEXT</td>
              <td class="p-1">昵称</td>
            </tr>
            <tr>
              <th class="p-1">is_disable</th>
              <td class="p-1 small">TINYINT(1) UNSIGNED</td>
              <td class="p-1">账户已禁用</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">update_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">is_delete</th>
              <td class="p-1 small">TINYINT(1) UNSIGNED</td>
              <td class="p-1">已删除</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">用户权限表</span><span class="text-muted small">user_permission</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">user_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">permission</th>
              <td class="p-1 small">CHAR(36)</td>
              <td class="p-1">权限GUID</td>
            </tr>
            <tr>
              <th class="p-1">create_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1"></td>
            </tr>
          </table>
        </div>
      </div>
      <div class="card border-dark mb-3 mr-2 d-inline-block align-top">
        <h5 class="card-header d-flex"><span class="flex-fill">session数据</span><span class="text-muted small">user_session_storage</span></h5>
        <div class="card-body text-dark p-0">
          <table class="table table-bordered">
            <tr>
              <th class="p-1">hash</th>
              <td class="p-1 small">CHAR(32)</td>
              <td class="p-1">会话ID</td>
            </tr>
            <tr>
              <th class="p-1">user_id</th>
              <td class="p-1 small">INT(10) UNSIGNED</td>
              <td class="p-1"></td>
            </tr>
            <tr>
              <th class="p-1">title</th>
              <td class="p-1 small">VARCHAR(255)</td>
              <td class="p-1">会话名称</td>
            </tr>
            <tr>
              <th class="p-1">expire_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1">超时时间</td>
            </tr>
            <tr>
              <th class="p-1">last_active_at</th>
              <td class="p-1 small">DATETIME</td>
              <td class="p-1">最后活动时间</td>
            </tr>
            <tr>
              <th class="p-1">ip</th>
              <td class="p-1 small">VARCHAR(45)</td>
              <td class="p-1">登录ip</td>
            </tr>
            <tr>
              <th class="p-1">last_active_ip</th>
              <td class="p-1 small">VARCHAR(45)</td>
              <td class="p-1">最后活动IP</td>
            </tr>
            <tr>
              <th class="p-1">value</th>
              <td class="p-1 small">LONGTEXT</td>
              <td class="p-1">会话内容（JSON）</td>
            </tr>
          </table>
        </div>
      </div>
    </div><textarea id="output" style="opacity:0;position:fixed;top:0;z-index:-1"></textarea>
  </body>
  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script type="text/javascript">
    (function initScript() {
      function copy(message, sql) {
        $('#output')
          .text(sql)
          .focus()[0]
          .select();
        const msg = document.execCommand('copy');
        console.log('Copying text command was ' + msg);
        $('#sqlTitle').text(msg ? '复制成功' : '复制失败');
        $('#sqlData').text(message);
        $('#toast')
          .toast({
            delay: 10000
          })
          .toast('show');
      }
      $(document).on('click', '#copyAll', function() {
        const data = Array.from($('.copyCode').map(function() {
          return $(this).text();
        }));
        copy(`复制了${data.length}条语句`, data.join('\n'));
      });
      $(document).on('dblclick', '.copyCode', function() {
        const sql = $(this)
          .text()
          .trim();
        copy(sql, sql);
      });
    })();
  </script>
</html>